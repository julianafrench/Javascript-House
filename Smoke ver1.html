<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Smoke</title>
    <script>
        var ctx;
        var drawMe = function () {
            var canvas = document.getElementById("myCanvas");
            ctx = canvas.getContext("2d");

            var interval = setInterval(animateSmoke, 100);
        };

        function drawSmoke() {
            ctx.beginPath();
            ctx.arc(60, 50, 20, Math.PI, 2 * Math.PI);
            ctx.lineWidth = 5;
            ctx.stroke();

            ctx.arc(100, 50, 20, Math.PI, 2 * Math.PI);
            ctx.stroke();

            ctx.arc(140, 50, 20, Math.PI, 2 * Math.PI);
            ctx.stroke();

            ctx.arc(160, 70, 20, 1.5 * Math.PI, 2 * Math.PI);
            ctx.stroke();

            ctx.arc(180, 90, 20, 1.5 * Math.PI, 0.5 * Math.PI);
            ctx.stroke();

            ctx.arc(160, 110, 20, 0, 0.5 * Math.PI);
            ctx.stroke();

            ctx.arc(140, 130, 20, 0, Math.PI);
            ctx.stroke();

            ctx.arc(100, 130, 20, 0, Math.PI);
            ctx.stroke();


            ctx.arc(60, 130, 20, 0, Math.PI);
            ctx.stroke();

            ctx.arc(40, 110, 20, 0.5 * Math.PI, Math.PI);
            ctx.stroke();

            ctx.arc(20, 90, 15, 0.5 * Math.PI, 1.5 * Math.PI);
            ctx.stroke();

            ctx.arc(40, 70, 20, Math.PI, 1.5 * Math.PI);
            ctx.stroke();
            ctx.fillStyle = "gray";
            ctx.fill();
        };

        var a = 150;
        var b = 150;

        var x = 0.2;
        var y = 0.2;

        var animateSmoke = function () {
            ctx.save();
            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            ctx.translate(a, b);
            ctx.scale(x, y);

            drawSmoke();
            ctx.restore();

            x *= 1.1;
            y *= 1.1;

            a -= 5;
            b -= 20;

            if (a < 85) {
                a = 150;
                b = 150;

                x = 0.2;
                y = 0.2;
            }
        };
    </script>
</head>

<body onload="drawMe()" style="font-family: arial">
    <canvas id="myCanvas" width="250" height="200"></canvas>
</body>

</html>